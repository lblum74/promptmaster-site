// ===== SISTEMA DE GERA√á√ÉO DE PROMPTS =====

// Fun√ß√£o para gerar exemplo
function generateExample() {
    console.log("Bot√£o clicado - iniciando gera√ß√£o...");
    
    const taskType = document.getElementById('task-type').value;
    const language = document.getElementById('language').value;
    const complexity = document.getElementById('complexity').value;
    const description = document.getElementById('description').value;
    
    console.log("Par√¢metros:", { taskType, language, complexity, description });
    
    // Dados de exemplos
    const examples = {
        "code-generation": {
            "python": {
                "beginner": `# PROMPT PERFEITO PARA IA:
"Crie um script Python para web scraping de produtos de e-commerce com:
1. Use requests e BeautifulSoup para acessar p√°ginas
2. Extraia: nome, pre√ßo, avalia√ß√£o e disponibilidade
3. Trate erros de conex√£o e dados ausentes
4. Exporte os dados para CSV com timestamp
5. Inclua coment√°rios explicativos e docstrings"

# C√ìDIGO GERADO:
import requests
from bs4 import BeautifulSoup
import csv
from datetime import datetime

class EcommerceScraper:
    """
    Classe para scraping de produtos de e-commerce.
    """
    
    def __init__(self, base_url):
        self.base_url = base_url
        self.headers = {
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
        }
    
    def fetch_page(self, url):
        """Busca uma p√°gina web com tratamento de erros."""
        try:
            response = requests.get(url, headers=self.headers, timeout=10)
            response.raise_for_status()
            return response.text
        except requests.RequestException as e:
            print(f"Erro ao acessar {url}: {e}")
            return None
    
    def parse_products(self, html):
        """Analisa o HTML e extrai dados dos produtos."""
        if not html:
            return []
        
        soup = BeautifulSoup(html, 'html.parser')
        products = []
        
        # Seletor gen√©rico - ajuste conforme o site
        product_elements = soup.select('.product-item') or soup.select('.product-card')
        
        for element in product_elements:
            try:
                name = element.select_one('.product-name')?.text.trim() || "N/A"
                price = element.select_one('.product-price')?.text.trim() || "N/A"
                rating = element.select_one('.product-rating')?.text.trim() || "N/A"
                
                products.append({
                    'name': name,
                    'price': price,
                    'rating': rating
                })
            except Exception as e:
                console.log("Erro ao extrair produto:", e)
                continue
        
        return products
    
    def save_to_csv(self, products, filename=None):
        """Salva produtos em arquivo CSV."""
        if not filename:
            timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
            filename = f'produtos_{timestamp}.csv'
        
        if not products:
            print("Nenhum produto para salvar.")
            return
        
        with open(filename, 'w', newline='', encoding='utf-8') as csvfile:
            writer = csv.writer(csvfile)
            writer.writerow(['Nome', 'Pre√ßo', 'Avalia√ß√£o'])
            for product in products:
                writer.writerow([product.name, product.price, product.rating])
        
        print(f"Dados salvos em {filename}")
        return filename

# Exemplo de uso:
if __name__ == "__main__":
    scraper = EcommerceScraper("https://exemplo-ecommerce.com")
    html = scraper.fetch_page("https://exemplo-ecommerce.com/produtos")
    
    if html:
        products = scraper.parse_products(html)
        if products:
            scraper.save_to_csv(products)
            print(f"Extra√≠dos {len(products)} produtos com sucesso!")
        else:
            print("Nenhum produto encontrado.")
    else:
        print("N√£o foi poss√≠vel acessar a p√°gina.")`,
                
                "intermediate": `# PROMPT OTIMIZADO PARA IA:
"Desenvolva uma classe Python robusta para web scraping com:
1. Padr√£o Strategy para diferentes sites de e-commerce
2. Cache com Redis para reduzir requests repetidos
3. Rota√ß√£o de User-Agents e proxies
4. Sistema de fila para scraping ass√≠ncrono
5. Logs estruturados e m√©tricas de performance"

# C√ìDIGO GERADO:
import requests
from bs4 import BeautifulSoup
import redis
import logging
from abc import ABC, abstractmethod
import random
from concurrent.futures import ThreadPoolExecutor, as_completed

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

class ScrapingStrategy(ABC):
    """Interface Strategy para diferentes sites."""
    
    @abstractmethod
    def extract_products(self, html):
        pass
    
    @abstractmethod
    def build_url(self, page):
        pass

class AmazonStrategy(ScrapingStrategy):
    def extract_products(self, html):
        soup = BeautifulSoup(html, 'html.parser')
        products = []
        
        items = soup.select('div[data-component-type="s-search-result"]')
        for item in items:
            try:
                name_elem = item.select_one('h2 a span')
                price_elem = item.select_one('.a-price-whole')
                rating_elem = item.select_one('.a-icon-alt')
                
                product = {
                    'name': name_elem.text.strip() if name_elem else 'N/A',
                    'price': price_elem.text if price_elem else 'N/A',
                    'rating': rating_elem.text.split()[0] if rating_elem else 'N/A',
                    'url': 'https://amazon.com' + item.select_one('h2 a')['href']
                }
                products.append(product)
            except Exception as e:
                logger.debug(f"Erro Amazon: {e}")
        
        return products
    
    def build_url(self, page):
        return f"https://www.amazon.com/s?k=python+books&page={page}"

class EcommerceScraperAdvanced:
    def __init__(self, strategy, cache_ttl=3600):
        self.strategy = strategy
        self.redis_client = redis.Redis(host='localhost', port=6379, db=0)
        self.cache_ttl = cache_ttl
        self.session = requests.Session()
        
        self.user_agents = [
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',
            'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15'
        ]
    
    def get_random_headers(self):
        return {
            'User-Agent': random.choice(self.user_agents),
            'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'
        }
    
    def fetch_with_cache(self, url):
        cache_key = f"scraper:{hash(url)}"
        
        cached = self.redis_client.get(cache_key)
        if cached:
            logger.info(f"Cache hit: {url}")
            return cached.decode('utf-8')
        
        logger.info(f"Fetching: {url}")
        try:
            headers = self.get_random_headers()
            response = self.session.get(url, headers=headers, timeout=15)
            response.raise_for_status()
            
            html = response.text
            self.redis_client.setex(cache_key, self.cache_ttl, html)
            
            return html
        except Exception as e:
            logger.error(f"Erro ao buscar {url}: {e}")
            return None
    
    def scrape_page(self, page_num):
        url = self.strategy.build_url(page_num)
        html = self.fetch_with_cache(url)
        
        if not html:
            return []
        
        return self.strategy.extract_products(html)
    
    def scrape_multiple_pages(self, start_page, end_page, max_workers=3):
        all_products = []
        
        with ThreadPoolExecutor(max_workers=max_workers) as executor:
            futures = []
            for page in range(start_page, end_page + 1):
                futures.append(executor.submit(self.scrape_page, page))
            
            for future in as_completed(futures):
                try:
                    products = future.result()
                    all_products.extend(products)
                except Exception as e:
                    logger.error(f"Erro em p√°gina: {e}")
        
        return all_products

# Uso:
strategy = AmazonStrategy()
scraper = EcommerceScraperAdvanced(strategy)
products = scraper.scrape_multiple_pages(1, 3)
print(f"Total de produtos: {len(products)}")`
            },
            "javascript": {
                "intermediate": `// PROMPT PERFEITO PARA IA:
"Crie uma aplica√ß√£o React com Next.js para dashboard de analytics com:
1. Gr√°ficos interativos usando Chart.js ou Recharts
2. Filtros din√¢micos por per√≠odo e categoria
3. Dashboard responsivo com grid flex√≠vel
4. API routes para dados mockados
5. Sistema de temas claro/escuro
6. Testes b√°sicos com Jest"

// C√ìDIGO GERADO:
import { useState, useEffect } from 'react';
import { LineChart, Line, BarChart, Bar, PieChart, Pie, Cell } from 'recharts';

const AnalyticsDashboard = () => {
    const [data, setData] = useState({ sales: [], categories: [] });
    const [dateRange, setDateRange] = useState({ start: '2024-01-01', end: '2024-01-31' });
    const [darkMode, setDarkMode] = useState(false);
    const [loading, setLoading] = useState(true);
    
    useEffect(() => {
        fetchData();
    }, [dateRange]);
    
    const fetchData = async () => {
        setLoading(true);
        try {
            const response = await fetch(\`/api/analytics?start=\${dateRange.start}&end=\${dateRange.end}\`);
            const result = await response.json();
            setData(result.data);
        } catch (error) {
            console.error('Erro ao buscar dados:', error);
        } finally {
            setLoading(false);
        }
    };
    
    const salesData = data.sales || [];
    const categoryData = data.categories || [];
    
    const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884D8'];
    
    return (
        <div className={\`min-h-screen p-6 \${darkMode ? 'bg-gray-900 text-white' : 'bg-gray-50'}\`}>
            <div className="max-w-7xl mx-auto">
                <header className="flex justify-between items-center mb-8">
                    <div>
                        <h1 className="text-3xl font-bold">Dashboard de Analytics</h1>
                        <p className="text-gray-500">Visualize m√©tricas do seu neg√≥cio</p>
                    </div>
                    
                    <div className="flex items-center gap-4">
                        <button
                            onClick={() => setDarkMode(!darkMode)}
                            className="px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700"
                        >
                            {darkMode ? 'üåû Modo Claro' : 'üåô Modo Escuro'}
                        </button>
                        
                        <input
                            type="date"
                            value={dateRange.start}
                            onChange={(e) => setDateRange({...dateRange, start: e.target.value})}
                            className="px-3 py-2 border rounded"
                        />
                        <span>at√©</span>
                        <input
                            type="date"
                            value={dateRange.end}
                            onChange={(e) => setDateRange({...dateRange, end: e.target.value})}
                            className="px-3 py-2 border rounded"
                        />
                    </div>
                </header>
                
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div className={\`p-6 rounded-lg shadow \${darkMode ? 'bg-gray-800' : 'bg-white'}\`}>
                        <h3 className="text-lg font-semibold mb-2">Receita Total</h3>
                        <p className="text-2xl font-bold text-green-500">R$ 125.430,75</p>
                        <p className="text-sm text-gray-500">‚Üë 12% em rela√ß√£o ao m√™s anterior</p>
                    </div>
                    
                    <div className={\`p-6 rounded-lg shadow \${darkMode ? 'bg-gray-800' : 'bg-white'}\`}>
                        <h3 className="text-lg font-semibold mb-2">Taxa de Convers√£o</h3>
                        <p className="text-2xl font-bold text-blue-500">4.3%</p>
                        <p className="text-sm text-gray-500">‚Üë 0.5% em rela√ß√£o ao m√™s anterior</p>
                    </div>
                    
                    <div className={\`p-6 rounded-lg shadow \${darkMode ? 'bg-gray-800' : 'bg-white'}\`}>
                        <h3 className="text-lg font-semibold mb-2">Pedidos Totais</h3>
                        <p className="text-2xl font-bold text-purple-500">511</p>
                        <p className="text-sm text-gray-500">‚Üë 8.7% em rela√ß√£o ao m√™s anterior</p>
                    </div>
                    
                    <div className={\`p-6 rounded-lg shadow \${darkMode ? 'bg-gray-800' : 'bg-white'}\`}>
                        <h3 className="text-lg font-semibold mb-2">Valor M√©dio</h3>
                        <p className="text-2xl font-bold text-yellow-500">R$ 245,50</p>
                        <p className="text-sm text-gray-500">‚Üì 1.5% em rela√ß√£o ao m√™s anterior</p>
                    </div>
                </div>
                
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div className={\`p-6 rounded-lg shadow \${darkMode ? 'bg-gray-800' : 'bg-white'}\`}>
                        <h3 className="text-xl font-bold mb-4">Vendas ao Longo do Tempo</h3>
                        <div className="h-80">
                            <LineChart width={500} height={300} data={salesData}>
                                <Line type="monotone" dataKey="sales" stroke="#8884d8" />
                            </LineChart>
                        </div>
                    </div>
                    
                    <div className={\`p-6 rounded-lg shadow \${darkMode ? 'bg-gray-800' : 'bg-white'}\`}>
                        <h3 className="text-xl font-bold mb-4">Vendas por Categoria</h3>
                        <div className="h-80">
                            <PieChart width={400} height={300}>
                                <Pie
                                    data={categoryData}
                                    cx="50%"
                                    cy="50%"
                                    outerRadius={100}
                                    fill="#8884d8"
                                    dataKey="value"
                                    label
                                >
                                    {categoryData.map((entry, index) => (
                                        <Cell key={\`cell-\${index}\`} fill={COLORS[index % COLORS.length]} />
                                    ))}
                                </Pie>
                            </PieChart>
                        </div>
                    </div>
                </div>
                
                {loading && (
                    <div className="fixed inset-0 bg-black/50 flex items-center justify-center">
                        <div className="text-white text-xl">Carregando dados...</div>
                    </div>
                )}
            </div>
        </div>
    );
};

export default AnalyticsDashboard;`
            }
        },
        "prompt-optimization": {
            "python": {
                "beginner": `# PROMPT ORIGINAL (ruim):
"fa√ßa um c√≥digo python para calcular m√©dia"

# PROMPT OTIMIZADO (perfeito):
"Crie uma fun√ß√£o Python que:
1. Receba uma lista de n√∫meros inteiros ou floats
2. Calcule a m√©dia aritm√©tica dos valores
3. Retorne a m√©dia com 2 casas decimais
4. Inclua tratamento de erros para:
   - Lista vazia (raise ValueError)
   - Valores n√£o num√©ricos (ignorar ou tratar)
5. Adicione docstring com exemplos de uso
6. Inclua testes unit√°rios b√°sicos

Exemplo de uso esperado:
>>> calcular_media([10, 20, 30, 40, 50])
30.0
>>> calcular_media([1.5, 2.5, 3.5])
2.5"

# C√ìDIGO GERADO:
def calcular_media(numeros):
    """
    Calcula a m√©dia aritm√©tica de uma lista de n√∫meros.
    
    Args:
        numeros (list): Lista de n√∫meros (int ou float)
        
    Returns:
        float: M√©dia aritm√©tica com 2 casas decimais
        
    Raises:
        ValueError: Se a lista estiver vazia
        
    Exemplos:
        >>> calcular_media([10, 20, 30, 40, 50])
        30.0
        >>> calcular_media([1.5, 2.5, 3.5])
        2.5
    """
    if not numeros:
        raise ValueError("A lista n√£o pode estar vazia")
    
    # Filtra apenas valores num√©ricos
    valores_validos = []
    for num in numeros:
        if isinstance(num, (int, float)):
            valores_validos.append(num)
        else:
            print(f"Aviso: Valor '{num}' ignorado (n√£o √© n√∫mero)")
    
    if not valores_validos:
        raise ValueError("Nenhum valor num√©rico v√°lido na lista")
    
    media = sum(valores_validos) / len(valores_validos)
    return round(media, 2)

# Testes unit√°rios b√°sicos
if __name__ == "__main__":
    # Teste 1: Lista normal
    assert calcular_media([10, 20, 30, 40, 50]) == 30.0
    
    # Teste 2: Lista com floats
    assert calcular_media([1.5, 2.5, 3.5]) == 2.5
    
    # Teste 3: Lista com valores inv√°lidos
    assert calcular_media([10, "20", 30, None, 50]) == 30.0
    
    print("Todos os testes passaram!")
    
    # Teste de erro (descomente para verificar)
    # calcular_media([])  # Deve levantar ValueError`
            }
        },
        "business-idea": {
            "general": {
                "intermediate": `# PROMPT PERFEITO PARA IA:
"Desenvolva um plano de neg√≥cios completo para uma startup de IA com:
1. Nome e posicionamento no mercado
2. Problema que resolve e solu√ß√£o proposta
3. Modelo de neg√≥cio (freemium, SaaS, B2B)
4. P√∫blico-alvo e persona
5. Proje√ß√£o financeira para 3 anos
6. Estrat√©gia de marketing e aquisi√ß√£o
7. Plano de desenvolvimento de produto
8. An√°lise de concorrentes e diferencial competitivo"

# PLANO DE NEG√ìCIOS GERADO:

## 1. Nome e Posicionamento
**PromptMaster Pro** - Plataforma de IA que transforma ideias em prompts e c√≥digos perfeitos

**Posicionamento:** "O copiloto definitivo para desenvolvedores e profissionais de IA"

## 2. Problema & Solu√ß√£o
**Problema:** Desenvolvedores perdem horas criando prompts ineficientes e c√≥digos com erros

**Solu√ß√£o:** Plataforma que gera prompts otimizados e c√≥digos impec√°veis em segundos

## 3. Modelo de Neg√≥cio
**Freemium:**
- B√°sico: Gratuito (100 prompts/m√™s)
- Pro: R$ 29,90/m√™s (500 prompts/m√™s)
- Empresarial: R$ 99,90/m√™s (5000 prompts/m√™s, API)

**Receitas Adicionais:**
- Consultoria personalizada
- Treinamentos corporativos
- Parcerias com empresas de IA

## 4. P√∫blico-Alvo
**Persona Principal:** Jo√£o, 28 anos
- Desenvolvedor Full Stack
- Trabalha em startup de tecnologia
- Usa ChatGPT/Claude diariamente
- Frustrado com prompts gen√©ricos
- Disposto a pagar por produtividade

## 5. Proje√ß√£o Financeira (3 anos)
**Ano 1:**
- 1.000 usu√°rios gratuitos
- 100 assinantes Pro (R$ 2.990/m√™s)
- 20 clientes Empresarial (R$ 1.998/m√™s)
- Receita Mensal: R$ 4.988
- Receita Anual: R$ 59.856

**Ano 2:**
- 5.000 usu√°rios gratuitos
- 500 assinantes Pro (R$ 14.950/m√™s)
- 100 clientes Empresarial (R$ 9.990/m√™s)
- Receita Mensal: R$ 24.940
- Receita Anual: R$ 299.280

**Ano 3:**
- 20.000 usu√°rios gratuitos
- 2.000 assinantes Pro (R$ 59.800/m√™s)
- 500 clientes Empresarial (R$ 49.950/m√™s)
- Receita Mensal: R$ 109.750
- Receita Anual: R$ 1.317.000

## 6. Estrat√©gia de Marketing
**Fase 1 (Lan√ßamento):**
- Beta para desenvolvedores influentes
- Conte√∫do no LinkedIn e Twitter
- Parcerias com comunidades de programa√ß√£o

**Fase 2 (Crescimento):**
- SEO para termos como "prompt engineering"
- Webinars sobre IA produtiva
- Programa de afiliados (20% comiss√£o)

**Fase 3 (Consolida√ß√£o):**
- Participa√ß√£o em confer√™ncias de IA
- Casos de sucesso com clientes
- Integra√ß√µes com ferramentas populares

## 7. Plano de Desenvolvimento
**M√™s 1-3:** MVP (gerador b√°sico de prompts)
**M√™s 4-6:** Sistema de templates e hist√≥rico
**M√™s 7-9:** API p√∫blica e integra√ß√µes
**M√™s 10-12:** Ferramentas avan√ßadas e colabora√ß√£o

## 8. Diferencial Competitivo
‚úÖ **Foco em precis√£o** - C√≥digos test√°veis e prompts otimizados
‚úÖ **Contexto profundo** - Entende requisitos espec√≠ficos
‚úÖ **Ecossistema** - Templates compartilhados pela comunidade
‚úÖ **Suporte especializado** - Especialistas em prompt engineering

**Investimento Inicial Necess√°rio:** R$ 50.000
**ROI Estimado:** 12 meses
**Potencial de Mercado:** R$ 500M+ (dev tools + IA)`
            }
        }
    };
    
    // Gera o conte√∫do baseado nas sele√ß√µes
    let generatedContent = "";
    
    if (examples[taskType] && examples[taskType][language] && examples[taskType][language][complexity]) {
        generatedContent = examples[taskType][language][complexity];
    } else if (examples[taskType] && examples[taskType][language]) {
        // Pega qualquer complexidade dispon√≠vel
        const availableComplexities = Object.keys(examples[taskType][language]);
        if (availableComplexities.length > 0) {
            generatedContent = examples[taskType][language][availableComplexities[0]];
        }
    } else if (examples[taskType]) {
        // Pega qualquer linguagem dispon√≠vel
        const availableLanguages = Object.keys(examples[taskType]);
        if (availableLanguages.length > 0) {
            const firstLang = availableLanguages[0];
            const availableComplexities = Object.keys(examples[taskType][firstLang]);
            if (availableComplexities.length > 0) {
                generatedContent = examples[taskType][firstLang][availableComplexities[0]];
            }
        }
    } else {
        // Conte√∫do padr√£o se n√£o encontrar
        generatedContent = `# PROMPT PERFEITO PARA IA (${taskType} - ${language} - ${complexity}):

"${description || 'Descreva sua necessidade acima para gerar um prompt personalizado'}"

# C√ìDIGO GERADO:

// Este √© um exemplo de c√≥digo ${language} para ${taskType}
// A ferramenta completa analisaria seu contexto espec√≠fico
// e geraria uma solu√ß√£o personalizada com precis√£o extraordin√°ria

function solucaoGerada() {
    console.log("Solu√ß√£o otimizada para seu caso de uso");
    
    // Caracter√≠sticas inclu√≠das:
    // 1. Arquitetura limpa e manten√≠vel
    // 2. Tratamento de erros robusto
    // 3. Performance otimizada
    // 4. Documenta√ß√£o clara
    // 5. Testabilidade facilitada
    
    return "Resultado preciso e pronto para produ√ß√£o";
}

// Para obter a solu√ß√£o completa e personalizada:
// 1. Descreva detalhadamente seu caso de uso
// 2. Especifique restri√ß√µes e requisitos
// 3. Utilize o PromptMaster Pro para gera√ß√£o autom√°tica`;
    }
    
    // Atualiza a √°rea de sa√≠da
    const outputArea = document.getElementById('output-container');
    if (outputArea) {
        outputArea.innerHTML = `<pre style="white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New', monospace; background: #f8f9fa; padding: 20px; border-radius: 8px; max-height: 500px; overflow-y: auto;">${generatedContent}</pre>`;
        
        // Habilita bot√µes de c√≥pia
        if (copyPromptBtn) copyPromptBtn.disabled = false;
        if (copyCodeBtn) copyCodeBtn.disabled = false;
        
        // Feedback visual
        generateBtn.innerHTML = '<i class="fas fa-check"></i> Gerado com Sucesso!';
        generateBtn.style.backgroundColor = '#06d6a0';
        
        setTimeout(() => {
            generateBtn.innerHTML = '<i class="fas fa-bolt"></i> Gerar Prompt e C√≥digo Perfeitos';
            generateBtn.style.backgroundColor = '';
        }, 2000);
        
        console.log("Conte√∫do gerado com sucesso!");
    } else {
        console.error("Elemento output-container n√£o encontrado!");
    }
}

// Fun√ß√£o para copiar prompt
function copyPrompt() {
    const outputArea = document.getElementById('output-container');
    if (!outputArea) return;
    
    const text = outputArea.innerText;
    const promptStart = text.indexOf('# PROMPT');
    const promptEnd = text.indexOf('# C√ìDIGO GERADO:');
    
    if (promptStart !== -1 && promptEnd !== -1) {
        const promptText = text.substring(promptStart, promptEnd);
        navigator.clipboard.writeText(promptText).then(() => {
            showNotification('Prompt copiado para a √°rea de transfer√™ncia!', 'success');
        });
    } else {
        showNotification('N√£o foi poss√≠vel encontrar o prompt no conte√∫do.', 'error');
    }
}

// Fun√ß√£o para copiar c√≥digo
function copyCode() {
    const outputArea = document.getElementById('output-container');
    if (!outputArea) return;
    
    const text = outputArea.innerText;
    const codeStart = text.indexOf('# C√ìDIGO GERADO:');
    
    if (codeStart !== -1) {
        const codeText = text.substring(codeStart + 16); // +16 para pular o t√≠tulo
        navigator.clipboard.writeText(codeText).then(() => {
            showNotification('C√≥digo copiado para a √°rea de transfer√™ncia!', 'success');
        });
    } else {
        showNotification('N√£o foi poss√≠vel encontrar o c√≥digo no conte√∫do.', 'error');
    }
}

// Fun√ß√£o para mostrar notifica√ß√£o
function showNotification(message, type) {
    // Remove notifica√ß√£o anterior
    const oldNotification = document.querySelector('.notification');
    if (oldNotification) oldNotification.remove();
    
    // Cria nova notifica√ß√£o
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.innerHTML = `
        <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
        <span>${message}</span>
    `;
    
    // Estilos inline
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'success' ? '#06d6a0' : '#ef476f'};
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
        gap: 10px;
        z-index: 99999;
        animation: slideIn 0.3s ease;
    `;
    
    document.body.appendChild(notification);
    
    // Remove ap√≥s 3 segundos
    setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 300);
    }, 3000);
}

// Fun√ß√µes do modal Pix
function openPixModal() {
    const modal = document.getElementById('pixModal');
    if (modal) modal.style.display = 'flex';
}

function closePixModal() {
    const modal = document.getElementById('pixModal');
    if (modal) modal.style.display = 'none';
}

function copyPixKey() {
    const pixKey = '123.456.789-00';
    navigator.clipboard.writeText(pixKey).then(() => {
        showNotification('Chave PIX copiada! Cole no seu aplicativo banc√°rio.', 'success');
    });
}

// Inicializa√ß√£o quando a p√°gina carrega
document.addEventListener('DOMContentLoaded', function() {
    console.log("P√°gina carregada - inicializando sistema...");
    
    // Configura bot√µes
    const generateBtn = document.getElementById('generate-btn');
    const copyPromptBtn = document.getElementById('copy-prompt-btn');
    const copyCodeBtn = document.getElementById('copy-code-btn');
    
    if (generateBtn) {
        generateBtn.addEventListener('click', generateExample);
        console.log("Bot√£o de gera√ß√£o configurado");
    } else {
        console.error("Bot√£o generate-btn n√£o encontrado!");
    }
    
    if (copyPromptBtn) {
        copyPromptBtn.addEventListener('click', copyPrompt);
    }
    
    if (copyCodeBtn) {
        copyCodeBtn.addEventListener('click', copyCode);
    }
    
    // Configura modal Pix
    const pixModal = document.getElementById('pixModal');
    if (pixModal) {
        pixModal.addEventListener('click', function(e) {
            if (e.target === this) closePixModal();
        });
    }
    
    // Fechar modal com ESC
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') closePixModal();
    });
    
    // Gera conte√∫do inicial
    setTimeout(generateExample, 500);
    
    console.log("Sistema inicializado com sucesso!");
});

// Adiciona CSS para anima√ß√µes
const style = document.createElement('style');
style.textContent = `
    @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
    }
`;
document.head.appendChild(style);
